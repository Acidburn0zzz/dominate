#! python -u ../cgi.py

__license__ = '''
This file is part of pyy.

pyy is free software: you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as
published by the Free Software Foundation, either version 3 of
the License, or (at your option) any later version.

pyy is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General
Public License along with pyy.  If not, see
<http://www.gnu.org/licenses/>.
'''

import sys
sys.path.append('..')

import web
import os
import htmlpage
from html import *


print 'Content-Type: text/html'
print 'Set-Cookie: BDMT=12345'
print
print '<pre>'
print '\n'.join('%-30s %s' % i for i in os.environ.items())
print 
print web.server
print 
print web.localroot
print web.localfile
print 
print web.urlroot
print web.urlfile
print
print web.fullurlroot
print web.fullurlfile
print
print web.get
print web.post
print repr(web.data)

print '''
</pre>

<form method=get>
<input type=text name=input1>
<input type=submit>
</form>

<form method=post>
<input type=text name=input1>
<input type=submit>
</form>

<form method=post enctype=multipart/form-data>
<input type=text name=input1>
<input type=submit>
</form>
'''

raise SystemExit

page = htmlpage.xhtmlpage()

page.add(div('I /was/ valid XHTML 1.1'))
page.add(div(a(img(src="http://www.w3.org/Icons/valid-xhtml11", 
                   alt="Valid XHTML 1.1", height="31", width="88"),
               href='http://validator.w3.org/check?uri=http%3A%2F%2Fstats.h4xn3t.zapto.org%3A8080%2Fbdmt%2Ftest.pyy')))
page.add(div(pre()))

page.render()